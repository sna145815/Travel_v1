package DB;

import java.sql.Connection;

public class DBControl {
	
	//DB연결 정보
	String drive = "com.mysql.cj.jdbc.Driver";
	String url = "jdbc:mysql://127.0.0.1:3306/travel";
	String user = "root";
	String password = "1128";
	
	private WbDB db = new WbDB();
	private loginDAO dao= new loginDAO();
		
	//DB연결
	public Connection Open()
	{
		Connection con =  db.Open(drive, url, user, password);
		if (con == null)
		{
			return null;
		}
		return con;
	}
	
	//DB해제
	public void Close()
	{
		db.Close();
	}
	
	

	//로그인
	public int Login(String id, String password)
	{
		try 
		{
			Connection con = Open();
			dao.Login(id, password, con);
			return 1;
		}
		catch(Exception e)
		{
			e.printStackTrace();
			return 0;
		}
		finally
		{
			Close();
		}
	}
	
	
}
