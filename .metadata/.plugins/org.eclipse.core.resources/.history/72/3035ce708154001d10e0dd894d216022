package DB;

import java.sql.Connection;
import java.sql.DriverManager;

public class DBControl {
	
	//DB연결 정보
	private Connection con;
	String url = "jdbc:mysql://127.0.0.1:3306/travel";
	String user = "root";
	String password = "rlawlsghd2@";
	String drive = "com.mysql.cj.jdbc.Driver";
	

	private loginDAO logindao= new loginDAO();
		
	//DB연결
	public Connection Open()
	{
		try 
		{
			Class.forName(drive);
			return DriverManager.getConnection(url, user, password);
		}
		catch(Exception e) 
		{
			e.printStackTrace();
			return null;
		}
	}
	
	//DB해제
	public void Close()
	{
		try 
	       {
	    	   if(con != null && !con.isClosed())
		       {
	    		   con.close();
		       }
	           
	       }
	       catch (Exception e) 
	       {
	    	   e.printStackTrace();
	    	 
	       }   
	}
	
	

	//로그인
	public int Login(String id, String password)
	{
		try 
		{
			Connection con = Open();
			logindao.Login(id, password, con);
			return 1;
		}
		catch(Exception e)
		{
			e.printStackTrace();
			return 0;
		}
		finally
		{
			Close();
		}
	}
	
	
}
